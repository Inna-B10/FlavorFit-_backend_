model Product {
  productId String  @id @default(cuid()) @map("product_id")
  name      String
  iconUrl   String? @map("icon_url")

  // how it is USED in recipes
  recipeUnit Unit @map("recipe_unit") // 150 MILLILITER

  // how it is SOLD variations
  purchaseOptions PurchaseOption[] //packaging, weight, price

  recipes          RecipeIngredient[] // in what recipes is it used
  shoppingListItem ShoppingListItem[]

  orderItems OrderItem[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("products")
}

model PurchaseOption {
  purchaseOptionId String @id @default(cuid()) @map("purchase_option_id")

  amount   Decimal @db.Decimal(10, 3)
  saleUnit Unit    @map("sale_unit") // GRAM / KILOGRAM / PIECE
  price    Decimal @db.Decimal(10, 2)

  // optional: description for UI
  description String? // "500g pack", organic...

  product   Product @relation(fields: [productId], references: [productId], onDelete: Cascade)
  productId String  @map("product_id")

  createdAt DateTime @default(now()) @map("created_at")

  @@map("purchase_options")
}
